<head>
	<title>The Wizard Wizard</title>
	<meta charset="utf-8">
</head>

<template name="layout">
	<div class="flex">
		<div class="container-fluid wizard">
			<article>
				{{> yield}}
			</article>
			<footer>
				<img src="andreas.jpg">
				<a href="mailto:anlinn@kth.se">Andreas Linn</a>
				<a href="sootn.se">sootn.se</a>
			</footer>
		</div>
		<div class="flowchart">
			TODO d3.js graph
		</div>
	</div>
</template>

<template name="home">
	<h1>The Wizard Wizard</h1>
	<table>
		<tr>
		{{#each publicstartingnodes}}
			<td>
				<a href="/flows/{{_id}}">
					{{text}}
				</a>
			</td>
			<td>
				{{choices.length}}
			</td>
		{{/each}}
		</tr>
	</table>
</template>

<template name="flow">
	<h1>{{text}}</h1>
	<ul>
	{{#each arrayify choices}}
		<li>
			<a href="{{value}}">
				{{key}}
			</a>
		</li>
	{{/each}}
	</ul>
</template>

<template name="notFound">
	404
</template>